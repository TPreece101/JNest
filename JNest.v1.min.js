var JNest={apply:function(a,b){function c(a,b){b(a);for(i in a)"object"==typeof a[i]&&null!=a[i]&&a[i].length>0&&a[i].forEach(function(a){c(a,b)})}return c(a,b),a},addParentProperty:function(a){function b(a){a.parent=window.tempObj;for(i in a)"object"==typeof a[i]&&null!=a[i]&&a[i].length>0&&a[i].forEach(function(c){window.tempObj=a,b(c)})}return b(a),window.tempObj=void 0,a},addLevelCount:function(a,b){return"Y"==b?(JNest.addParentProperty(a),JNest.apply(a,function(a){a.level=JNest.countLevelsAbove(a)})):(JNest.addParentProperty(a),JNest.apply(a,function(a){a.level=JNest.countLevelsAbove(a)}),JNest.apply(a,function(a){delete a.parent})),a},countLevelsBelow:function(a){var b=0;return a.children&&a.children.forEach(function(a){var c=countLevels(a);c>b&&(b=c)}),1+b},countLevelsAbove:function(a){function c(a){void 0!==a.parent&&(b+=1,c(a.parent))}var b=0;return c(a),b},searchByKeyValue:function(a,b,c){var d=[];return JNest.apply(a,function(a){a[b]==c&&d.push(a)}),d},searchByKey:function(a,b){var c=[];return JNest.apply(a,function(a){a[b]&&c.push(a)}),c}};